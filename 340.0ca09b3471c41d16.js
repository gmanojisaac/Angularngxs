"use strict";(self.webpackChunkAngularGhPages=self.webpackChunkAngularGhPages||[]).push([[340],{8340:(Y,A,u)=>{u.r(A),u.d(A,{AngularngxsModule:()=>X});var l=u(6895),h=u(8767),t=u(4650),p=u(740),k=u(655);function T(e){return"function"==typeof e}function Z(e){return function(n){let s=null;for(const o in e){const r=e[o],c=n[o],f=T(r)?r(c):r;f!==c&&(s||(s=Object.assign({},n)),s[o]=f)}return s||n}}function N(e,a){return function(s){let o=-1;if(function d(e){return"function"==typeof e}(e)?o=s.findIndex(e):function I(e){return"number"==typeof e}(e)&&(o=e),function C(e){return Number.isNaN(e)||-1===e}(o))return s;let r=null;const c=a;if(r=T(c)?c(s[o]):c,r===s[o])return s;const f=s.slice();return f[o]=r,f}}class _{constructor(a){this.payload=a}}_.type="ARCHIVE_TASK";class g{constructor(a){this.payload=a}}g.type="PIN_TASK";class y{constructor(a){this.payload=a}}y.type="APP_ERROR";let i=class{static getError(a){return a.error}static getAllTasks(a){return a.tasks}pinTask({getState:a,setState:n},{payload:s}){const o=a().tasks.find(r=>r.id===s);o&&n(Z({tasks:N(c=>c?.id===s,{...o,state:"TASK_PINNED"})}))}archiveTask({getState:a,setState:n},{payload:s}){const o=a().tasks.find(r=>r.id===s);o&&n(Z({tasks:N(c=>c?.id===s,{...o,state:"TASK_ARCHIVED"})}))}setAppError({patchState:a,getState:n},{}){a({error:!n().error})}};function O(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onPin(o.task.id))}),t._UZ(1,"span",7),t.qZA()}if(2&e){const n=t.oxw();t.uIk("aria-label","pinTask-"+n.task.id)}}i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),(0,k.gn)([(0,p.aU)(g)],i.prototype,"pinTask",null),(0,k.gn)([(0,p.aU)(_)],i.prototype,"archiveTask",null),(0,k.gn)([(0,p.aU)(y)],i.prototype,"setAppError",null),(0,k.gn)([(0,p.Qf)()],i,"getError",null),(0,k.gn)([(0,p.Qf)()],i,"getAllTasks",null),i=(0,k.gn)([(0,p.ZM)({name:"taskbox",defaults:{tasks:[{id:"1",title:"Something",state:"TASK_INBOX"},{id:"2",title:"Something more",state:"TASK_INBOX"},{id:"3",title:"Something else",state:"TASK_INBOX"},{id:"4",title:"Something again",state:"TASK_INBOX"}],status:"idle",error:!1}})],i);let x=(()=>{class e{constructor(){this.onPinTask=new t.vpe,this.onArchiveTask=new t.vpe}ngOnInit(){}onPin(n){this.onPinTask.emit(n)}onArchive(n){this.onArchiveTask.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-task"]],inputs:{task:"task"},outputs:{onPinTask:"onPinTask",onArchiveTask:"onArchiveTask"},decls:7,vars:14,consts:[[1,"checkbox",3,"for"],["type","checkbox","disabled","true",3,"defaultChecked","name","id"],[1,"checkbox-custom",3,"click"],[1,"title",3,"for"],["type","text","readonly","true",2,"text-overflow","ellipsis",3,"value","id","name"],["class","pin-button",3,"click",4,"ngIf"],[1,"pin-button",3,"click"],[1,"icon-star"]],template:function(n,s){1&n&&(t.TgZ(0,"div")(1,"label",0),t._UZ(2,"input",1),t.TgZ(3,"span",2),t.NdJ("click",function(){return s.onArchive(s.task.id)}),t.qZA()(),t.TgZ(4,"label",3),t._UZ(5,"input",4),t.qZA(),t.YNc(6,O,2,1,"button",5),t.qZA()),2&n&&(t.Gre("list-item ",s.task.state,""),t.xp6(1),t.MGl("for","checked-",s.task.id,""),t.uIk("aria-label","archiveTask-"+s.task.id),t.xp6(1),t.MGl("name","checked-",s.task.id,"")("id","checked-",s.task.id,""),t.Q6J("defaultChecked","TASK_ARCHIVED"===s.task.state),t.xp6(2),t.MGl("for","title-",s.task.id,""),t.uIk("aria-label",s.task.title+""),t.xp6(1),t.MGl("id","title-",s.task.id,"")("name","title-",s.task.id,""),t.Q6J("value",s.task.title),t.xp6(1),t.Q6J("ngIf","TASK_ARCHIVED"!==s.task.state))},dependencies:[l.O5]}),e})();function w(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"app-task",4),t.NdJ("onArchiveTask",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.onArchiveTask.emit(o))})("onPinTask",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.onPinTask.emit(o))}),t.qZA()}2&e&&t.Q6J("task",a.$implicit)}function E(e,a){1&e&&(t.TgZ(0,"div",5),t._UZ(1,"span",6),t.TgZ(2,"p",7),t._uU(3,"You have no tasks"),t.qZA(),t.TgZ(4,"p",8),t._uU(5,"Sit back and relax"),t.qZA()())}function K(e,a){1&e&&(t.TgZ(0,"div",10),t._UZ(1,"span",11),t.TgZ(2,"span",12)(3,"span"),t._uU(4,"Loading"),t.qZA(),t.TgZ(5,"span"),t._uU(6,"cool"),t.qZA(),t.TgZ(7,"span"),t._uU(8,"state"),t.qZA()()())}const U=function(){return[1,2,3,4,5,6]};function L(e,a){1&e&&(t.TgZ(0,"div"),t.YNc(1,K,9,0,"div",9),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,U)))}let J=(()=>{class e{constructor(){this.tasksInOrder=[],this.loading=!1,this.onPinTask=new t.vpe,this.onArchiveTask=new t.vpe}set tasks(n){const o=[...n.filter(r=>"TASK_PINNED"===r.state),...n.filter(r=>"TASK_PINNED"!==r.state)].filter(r=>"TASK_INBOX"===r.state||"TASK_PINNED"===r.state);this.tasksInOrder=o.filter(r=>"TASK_INBOX"===r.state||"TASK_PINNED"===r.state)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pure-task-list"]],inputs:{loading:"loading",tasks:"tasks"},outputs:{onPinTask:"onPinTask",onArchiveTask:"onArchiveTask"},decls:4,vars:3,consts:[[1,"list-items"],[3,"task","onArchiveTask","onPinTask",4,"ngFor","ngForOf"],["class","wrapper-message",4,"ngIf"],[4,"ngIf"],[3,"task","onArchiveTask","onPinTask"],[1,"wrapper-message"],[1,"icon-check"],[1,"title-message"],[1,"subtitle-message"],["class","loading-item",4,"ngFor","ngForOf"],[1,"loading-item"],[1,"glow-checkbox"],[1,"glow-text"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0),t.YNc(1,w,1,1,"app-task",1),t.YNc(2,E,6,0,"div",2),t.YNc(3,L,2,2,"div",3),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",s.tasksInOrder),t.xp6(1),t.Q6J("ngIf",0===s.tasksInOrder.length&&!s.loading),t.xp6(1),t.Q6J("ngIf",s.loading))},dependencies:[l.sg,l.O5,x]}),e})(),R=(()=>{class e{constructor(n){this.store=n,this.tasks$=n.select(s=>s.taskbox.tasks)}archiveTask(n){this.store.dispatch(new _(n))}pinTask(n){this.store.dispatch(new g(n))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-task-list"]],decls:2,vars:3,consts:[[3,"tasks","onArchiveTask","onPinTask"]],template:function(n,s){1&n&&(t.TgZ(0,"app-pure-task-list",0),t.NdJ("onArchiveTask",function(r){return s.archiveTask(r)})("onPinTask",function(r){return s.pinTask(r)}),t.ALo(1,"async"),t.qZA()),2&n&&t.Q6J("tasks",t.lcZ(1,1,s.tasks$))},dependencies:[J,l.Ov]}),e})();function F(e,a){1&e&&(t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"span",3),t.TgZ(3,"p",4),t._uU(4,"Oh no!"),t.qZA(),t.TgZ(5,"p",5),t._uU(6,"Something went wrong"),t.qZA()()())}function M(e,a){1&e&&(t.TgZ(0,"div",1)(1,"nav")(2,"h1",6),t._uU(3,"Taskbox"),t.qZA()(),t._UZ(4,"app-task-list"),t.qZA())}let Q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pure-inbox-screen"]],inputs:{error:"error"},decls:2,vars:2,consts:[["class","page lists-show",4,"ngIf"],[1,"page","lists-show"],[1,"wrapper-message"],[1,"icon-face-sad"],[1,"title-message"],[1,"subtitle-message"],[1,"title-page"]],template:function(n,s){1&n&&(t.YNc(0,F,7,0,"div",0),t.YNc(1,M,5,0,"div",0)),2&n&&(t.Q6J("ngIf",s.error),t.xp6(1),t.Q6J("ngIf",!s.error))},dependencies:[l.O5,R]}),e})();const B=[{path:"",component:(()=>{class e{constructor(n){this.store=n,this.error$=n.select(s=>s.taskbox.error)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-ngxs-check"]],decls:2,vars:3,consts:[[3,"error"]],template:function(n,s){1&n&&(t._UZ(0,"app-pure-inbox-screen",0),t.ALo(1,"async")),2&n&&t.Q6J("error",t.lcZ(1,1,s.error$))},dependencies:[Q,l.Ov]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(B),h.Bz]}),e})(),X=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,q,p.$l.forFeature([i])]}),e})()}}]);